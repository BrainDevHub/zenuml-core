<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>ZenUML</title>
  </head>
  <!-- .zenuml will enable "important" feature of tailwindcss. This class is also added to
    DiagramFrame so the diagram itself always works fine. This .zenuml is to make sure the
    editor and other layouts work properly.-->
  <body class="zenuml">
    <noscript>
      <strong>We're sorry but ZenUML doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <script>
      function updateCode(c) {
        document.getElementsByClassName('sequence-diagram')[0].__vue__.$store.dispatch('updateCode', {code:c})
      }
      window.addEventListener('message', (e) => {
        if (!e.data) return;
        console.log('e.data', e.data);
        // return if typeof e.data is not string
        if(typeof e.data !== 'string') return;

        const data = JSON.parse(e.data);
        if (data.action !== 'load') return;
        const code = data && data.code;
        updateCode(code);
      }, false);
      document.addEventListener("DOMContentLoaded", function() {
        updateCode('A.method');
      }, false);
    </script>


    <div id="diagram">
      diagram
    </div>
    <!-- built files will be auto injected -->
  </body>
</html>
